#:kivy 1.11.1
<GameSettingsScene>:
    name: 'gamesettingsscene'

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        Label:
            text: 'NEW GAME'
            size: 400, 120
            size_hint: None, None
            font_name: 'fonts/hexagon_cup.ttf'
            font_size: 65
            color: .1, 1, .8, 1

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        Label:
            text: '_                      _'
            size: 400, 110
            size_hint: None, None
            font_name: 'fonts/hexgon.ttf'
            font_size: 60
            color: .1, 1, .8, 1

    BoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x' : .6, 'center_y' : .8}
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: 'Water level:'
                size: 250, 50
                size_hint: None, None
                #pos_hint: {'center_y' : -.5}
                font_name: 'fonts/CaviarDreams.ttf'
                font_size: 30
                color: 1, .7, .1, 1
                background_color: .1, .1, .1, 1
            Slider:
                id: slider_water_level
                size: 400, 50
                size_hint: None, None
                #pos_hint: {'center_y' : -.5}
                min: root.MIN_WATER_LEVEL
                max: root.MAX_WATER_LEVEL
                value: root.game_data['water_level']
                step: 1
                orientation: 'horizontal'
            Label:
                text: str(int(slider_water_level.value)) + '%'
                size: 100, 50
                size_hint: None, None
                #pos_hint: {'center_y' : -.5}
                font_name: 'fonts/CaviarDreams.ttf'
                font_size: 24
                color: .1, 1, .8, 1
                background_color: .1, .1, .1, 1
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: 'Player\'s color:'
                size: 250, 50
                size_hint: None, None
                #pos_hint: {'center_y' : -.5}
                font_name: 'fonts/CaviarDreams.ttf'
                font_size: 30
                color: 1, .7, .1, 1
                background_color: .1, .1, .1, 1
            BoxLayout:
                Button:
                    id: color_button
                    text: root.game_data['player_color']
                    on_parent: color_dropdown.dismiss()
                    on_release: color_dropdown.open(self)
                    size_hint: None, None
                    size: 200, 50
                DropDown:
                    id: color_dropdown
                    on_select: color_button.text = '{}'.format(args[1])
                    Button:
                        id: red
                        text: 'red'
                        size_hint_y: None
                        height: 44
                        on_release: color_dropdown.select('red')
                    Button:
                        id: yellow
                        text: 'yellow'
                        size_hint_y: None
                        height: 44
                        on_release: color_dropdown.select('yellow')
                    Button:
                        id: blue
                        text: 'blue'
                        size_hint_y: None
                        height: 44
                        on_release: color_dropdown.select('blue')

    Button:
        text: 'START'
        size: 200, 50
        size_hint: None, None
        pos_hint: {'center_x' : .5, 'center_y' : .17}
        font_name: 'fonts/CaviarDreams.ttf'
        font_size: 30
        color: .1, 1, .8, 1
        background_color: .1, .1, .1, 1
        on_press:
            self.color = (1, .7, .1, 1)
        on_release:
            self.color = (.1, 1, .8, 1)
            root.get_new_data_and_save(slider_water_level.value)
            app.root.current = 'gamescene'

    Button:
        text: 'BACK'
        size: 200, 50
        size_hint: None, None
        pos_hint: {'center_x' : .5, 'center_y' : .1}
        font_name: 'fonts/CaviarDreams.ttf'
        font_size: 30
        color: .1, 1, .8, 1
        background_color: .1, .1, .1, 1
        on_press:
            self.color = (1, .7, .1, 1)
        on_release:
            self.color = (.1, 1, .8, 1)
            root.get_new_data_and_save(slider_water_level.value, color_button.text)
            app.root.current = 'menuscene'